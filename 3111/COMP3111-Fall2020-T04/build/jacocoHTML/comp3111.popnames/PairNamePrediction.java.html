<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PairNamePrediction.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PopNames3111</a> &gt; <a href="index.source.html" class="el_package">comp3111.popnames</a> &gt; <span class="el_source">PairNamePrediction.java</span></div><h1>PairNamePrediction.java</h1><pre class="source lang-java linenums">package comp3111.popnames;

import java.util.ArrayList;

/**
 * A class for computing name popularity within a period for task 5.
 * @author Frankie
 */

<span class="nc" id="L10">public class PairNamePrediction {</span>

    /**
     * A public method called by Controller to predict the name of soulmate.
     * It is assumed that input is validated at controller class.
     * @param iName The name of the user
     * @param iGender The gender of the user
     * @param iYOB The Year of Birth of the user
     * @param iMateGender The genfer of the soulmate
     * @param iPreference The prefered age of the soulmaet (younger or older)
     * @return Error message or the soulmate name for the UI.
     */

    public static String predictName(String iName, String iGender, int iYOB, String iMateGender, String iPreference){
<span class="fc bfc" id="L24" title="All 2 branches covered.">        int oYOB = iPreference.equals(&quot;Younger&quot;) ? iYOB-1: iYOB+1;</span>
<span class="fc bfc" id="L25" title="All 4 branches covered.">        if(oYOB &lt; 1880 || oYOB &gt; 2019) {</span>
<span class="fc" id="L26">            return String.format(&quot;Error: Soulmate's Year of Birth %d is out of range (1880-2019)&quot;, oYOB);</span>
        }
<span class="fc" id="L28">        String oReport = &quot;Application 2\n&quot;;</span>
<span class="fc" id="L29">        int oRank = 0;</span>
<span class="fc" id="L30">        oRank = DataParser.getRankSameFrequencySameRank(iYOB, iName, Gender.convertFromString(iGender));</span>
<span class="fc bfc" id="L31" title="All 2 branches covered.">        if (oRank == -1){</span>
<span class="fc" id="L32">            return String.format(&quot;Error: name found but gender mismatch in year %d&quot;, iYOB);</span>
<span class="fc bfc" id="L33" title="All 2 branches covered.">        } else if (oRank == -2){</span>
<span class="fc" id="L34">            return String.format(&quot;Error: name not found in year %d.&quot;, iYOB);</span>
        }
<span class="fc" id="L36">        ArrayList oName = DataParser.getNameSameFrequencySameRank(oYOB, oRank, Gender.convertFromString(iMateGender));</span>
<span class="fc bfc" id="L37" title="All 2 branches covered.">        if (oName.isEmpty()){</span>
<span class="fc" id="L38">            oName = DataParser.getNameSameFrequencySameRank(oYOB, 1, Gender.convertFromString(iMateGender));</span>
<span class="fc" id="L39">            oRank = 1; //magic number</span>
        }
<span class="fc" id="L41">        oReport += String.format(&quot;Your %s soulmate name(s) is/are %s who ranked %d in year %d.&quot;, iMateGender, oName.toString(), oRank, oYOB);</span>
<span class="fc" id="L42">        return oReport;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>