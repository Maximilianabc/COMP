<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PopNames3111</a> &gt; <a href="index.source.html" class="el_package">comp3111.popnames</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">package comp3111.popnames;

import javafx.fxml.FXML;
import javafx.scene.control.*;
import javafx.scene.text.Font;

import java.io.IOException;

/**
 * Building on the sample skeleton for 'ui.fxml' COntroller Class generated by SceneBuilder
 */

<span class="fc" id="L13">public class Controller {</span>

    @FXML
    private Tab tabTaskZero;

    @FXML
    private TextField textfieldNameF;

    @FXML
    private TextField textfieldYear;

    @FXML
    private Button buttonRankM;

    @FXML
    private TextField textfieldNameM;

    @FXML
    private Button buttonRankF;

    @FXML
    private Button buttonTopM;

    @FXML
    private Button buttonTopF;

    @FXML
    private Button buttonSummary;

    @FXML
    private Tab tabReport1;

    @FXML
    private ToggleGroup T1;

    @FXML
    private Tab tabReport2;

    @FXML
    private ToggleGroup T11;
    /** Task 1 */
    @FXML
    private TextField t1TopN;
    @FXML
    private TextField t1Y1;
    @FXML
    private TextField t1Y2;
    /** Task 2 */
    @FXML
    public TextField textfieldNameT2;
    @FXML
    public TextField textfieldY1T2;
    @FXML
    public TextField textfieldY2T2;
    /** End of Task 2 */

    /** Task 3: Reporting 3 */
    @FXML
    private Tab tabReport3;

    @FXML
    private RadioButton report3_Female;

    @FXML
    private ToggleGroup Report3gender;

    @FXML
    private RadioButton report3_Male;

    @FXML
    private TextField report3_end_year;

    @FXML
    private TextField report3_start_year;
    
    @FXML
    private TextField report3_top_N;

    @FXML
    private Button report3_start;
    /** End of task 3 ui elements */

    @FXML
    private Tab tabApp1;

    /** Task 4: Application 1*/
    @FXML
    private TextField dadName;

    @FXML
    private TextField momName;

    @FXML
    private TextField dadYOB;

    @FXML
    private TextField momYOB;

    @FXML
    private TextField vintageYear;

    /** Task 5: Application 2 */
    @FXML
    private Tab tabApp2;

    @FXML
    private TextField app2_user_name;

    @FXML
    private ToggleGroup app2_your_gender;

    @FXML
    private TextField app2_user_YOB;

    @FXML
    private ToggleGroup app2_soulmate_gender;

    @FXML
    private ToggleGroup app2_soulmate_age;
    /** End of Task 5: Application 2 */

    /** Task 6: Application 3 */
    @FXML
    private Tab tabApp3;

    @FXML
    private TextField app3_soulmate_name;

    @FXML
    private TextField app3_user_name;

    @FXML
    private RadioButton app3_user_male;

    @FXML
    private ToggleGroup App3yourGender;

    @FXML
    private RadioButton app3_soulmate_younger;

    @FXML
    private ToggleGroup App3age;

    @FXML
    private RadioButton app3_soulmate_older;

    @FXML
    private RadioButton app3_user_female;

    @FXML
    private TextField app3_user_YOB;

    @FXML
    private RadioButton app3_soulmate_male;

    @FXML
    private ToggleGroup App3soulmateGender;

    @FXML
    private RadioButton app3_soulmate_female;

    @FXML
    private Button app3_start;
    /** End of task 6 ui element */

    @FXML
    private TextArea textAreaConsole;
    

    /**
     *  Task Zero
     *  To be triggered by the &quot;Summary&quot; button on the Task Zero Tab 
     *  
     */
    @FXML
    void doSummary() {
<span class="nc" id="L189">    	int year = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L190">    	String oReport = AnalyzeNames.getSummary(year);</span>
<span class="nc" id="L191">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L192">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankF() {
<span class="nc" id="L202">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L203">    	String iNameF = textfieldNameF.getText();</span>
<span class="nc" id="L204">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L205">    	int oRank = AnalyzeNames.getRank(iYear, iNameF, &quot;F&quot;);</span>
<span class="nc bnc" id="L206" title="All 2 branches missed.">    	if (oRank == -1)</span>
<span class="nc" id="L207">    		oReport = String.format(&quot;The name %s (female) has not been ranked in the year %d.\n&quot;, iNameF, iYear);</span>
    	else
<span class="nc" id="L209">    		oReport = String.format(&quot;Rank of %s (female) in year %d is #%d.\n&quot;, iNameF, iYear, oRank);</span>
<span class="nc" id="L210">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L211">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankM() {
<span class="nc" id="L221">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L222">    	String iNameM = textfieldNameM.getText();</span>
<span class="nc" id="L223">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L224">    	int oRank = AnalyzeNames.getRank(iYear, iNameM, &quot;M&quot;);</span>
<span class="nc bnc" id="L225" title="All 2 branches missed.">    	if (oRank == -1)</span>
<span class="nc" id="L226">    		oReport = String.format(&quot;The name %s (male) has not been ranked in the year %d.\n&quot;, iNameM, iYear);</span>
    	else
<span class="nc" id="L228">    		oReport = String.format(&quot;Rank of %s (male) in year %d is #%d.\n&quot;, iNameM, iYear, oRank);</span>
<span class="nc" id="L229">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L230">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopF() {
<span class="nc" id="L240">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L241">    	final int topN = 5;</span>
<span class="nc" id="L242">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L243">    	oReport = String.format(&quot;Top %d most popular names (female) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L244" title="All 2 branches missed.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L245">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;F&quot;));</span>
<span class="nc" id="L246">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L247">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopM() {
<span class="nc" id="L257">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L258">    	final int topN = 5;</span>
<span class="nc" id="L259">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L260">    	oReport = String.format(&quot;Top %d most popular names (male) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L261" title="All 2 branches missed.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L262">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;M&quot;));</span>
<span class="nc" id="L263">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L264">    }</span>

    @FXML
    void resetConsole() {
<span class="nc" id="L268">    	textAreaConsole.setFont(Font.font(&quot;System&quot;));</span>
<span class="nc" id="L269">    	textAreaConsole.setText(&quot;&quot;);</span>
<span class="nc" id="L270">    	textAreaConsole.setWrapText(true);</span>
<span class="nc" id="L271">    }</span>

    /** Task One
     *  To be triggered by the Report button on the Task One Tab
     */
    @FXML
    void doReportT1() throws IOException
    {
<span class="nc" id="L279">        resetConsole();</span>
<span class="nc" id="L280">        String gender = ((RadioButton)T1.getSelectedToggle()).getText();</span>
<span class="nc" id="L281">        String t1y1 = t1Y1.getText();</span>
<span class="nc" id="L282">        String t1y2 = t1Y2.getText();</span>
<span class="nc" id="L283">        String t1top = t1TopN.getText();</span>

<span class="nc" id="L285">        textAreaConsole.setWrapText(false);</span>
<span class="nc" id="L286">        textAreaConsole.setFont(Font.font(&quot;Courier New&quot;));</span>
<span class="nc" id="L287">        textAreaConsole.setText(TopNamesForBirth.Compute(t1y1, t1y2, t1top, Gender.fromString(gender)));</span>
<span class="nc" id="L288">    }</span>

    /**
     *  Task Two
     *  To be triggered by the Report button on the Task Two Tab
     *
     */
    @FXML
    void doReportT2(){
<span class="nc" id="L297">        String oReport = &quot;&quot;;</span>
<span class="nc" id="L298">        String iName = textfieldNameT2.getText();</span>
<span class="nc" id="L299">        String iGender = ((RadioButton)T11.getSelectedToggle()).getText();</span>
<span class="nc" id="L300">        String iY1 = textfieldY1T2.getText();</span>
<span class="nc" id="L301">        String iY2 = textfieldY2T2.getText();</span>
        //input validation
<span class="nc bnc" id="L303" title="All 2 branches missed.">        if(!DataValidation.isValidName(iName)){</span>
<span class="nc" id="L304">            textAreaConsole.setText(DataValidation.invalidName);</span>
<span class="nc" id="L305">            return;</span>
        }
<span class="nc bnc" id="L307" title="All 4 branches missed.">        if(!DataValidation.isValidYearString(iY1) || !DataValidation.isValidYearString(iY2)){</span>
<span class="nc" id="L308">            textAreaConsole.setText(DataValidation.invalidYearString);</span>
<span class="nc" id="L309">            return;</span>
        }
<span class="nc" id="L311">        int iYear1 = Integer.parseInt(iY1);</span>
<span class="nc" id="L312">        int iYear2 = Integer.parseInt(iY2);</span>
<span class="nc bnc" id="L313" title="All 4 branches missed.">        if(!DataValidation.checkYearInRange(iYear1) || !DataValidation.checkYearInRange(iYear2)){</span>
<span class="nc" id="L314">            textAreaConsole.setText(DataValidation.yearNotInRange);</span>
<span class="nc" id="L315">            return;</span>
        }
<span class="nc bnc" id="L317" title="All 2 branches missed.">        if(!DataValidation.checkPeriod(iYear1, iYear2)){</span>
<span class="nc" id="L318">            textAreaConsole.setText(DataValidation.invalidPeriod);</span>
<span class="nc" id="L319">            return;</span>
        }
<span class="nc" id="L321">        oReport = NamePopularity.getSummary(iName, iGender, iYear1, iYear2);</span>
<span class="nc" id="L322">        textAreaConsole.setText(oReport);</span>
<span class="nc" id="L323">    }</span>
    
    /**
     * The controller for Task 3. &lt;br&gt;
     * Get the input from the ui elements. Call the &quot;processor&quot; to compute result.
     * And show the result on the ui.
     */
    @FXML
    void startReport3() {
        //textAreaConsole.setText(&quot;task 3&quot;);
        // get text box input
<span class="nc" id="L334">        String start_year = report3_start_year.getText();</span>
<span class="nc" id="L335">        String end_year = report3_end_year.getText();</span>
<span class="nc" id="L336">        String top_N = report3_top_N.getText();</span>

        // get radio button selected
<span class="nc" id="L339">        RadioButton selected = (RadioButton)Report3gender.getSelectedToggle();</span>
<span class="nc" id="L340">        String gender = selected.getText();</span>

        // get result and output it
<span class="nc" id="L343">        String result = AnalyzeNameTrend.ComputeAndGetResult(start_year, end_year, gender, top_N);</span>
<span class="nc" id="L344">        textAreaConsole.setFont(Font.font(&quot;Courier&quot;));</span>
<span class="nc" id="L345">        textAreaConsole.setText(result);</span>
<span class="nc" id="L346">    }</span>

    /**
     * Task 4
     */
    @FXML
    void startApplication1() {
<span class="nc" id="L353">        String d = dadName.getText();</span>
<span class="nc" id="L354">        String m = momName.getText();</span>
<span class="nc" id="L355">        String dyob = dadYOB.getText();</span>
<span class="nc" id="L356">        String myob = momYOB.getText();</span>
<span class="nc" id="L357">        String v = vintageYear.getText();</span>
<span class="nc" id="L358">        textAreaConsole.setText(NamesRecommendation.recommend(d, m, dyob, myob, v));</span>
<span class="nc" id="L359">    }</span>

    /**
     * Task 5
     */
    @FXML
    void startApplication2() {
<span class="nc" id="L366">        String oReport = &quot;&quot;;</span>
<span class="nc" id="L367">        String iName = app2_user_name.getText();</span>
<span class="nc" id="L368">        String iGender = ((RadioButton)app2_your_gender.getSelectedToggle()).getText();</span>
<span class="nc" id="L369">        String iMateGender = ((RadioButton)app2_soulmate_gender.getSelectedToggle()).getText();</span>
<span class="nc" id="L370">        String iPreference = ((RadioButton)app2_soulmate_age.getSelectedToggle()).getText();</span>
<span class="nc" id="L371">        String iY = app2_user_YOB.getText();</span>
        //input validation
<span class="nc bnc" id="L373" title="All 2 branches missed.">        if(!DataValidation.isValidName(iName)){</span>
<span class="nc" id="L374">            textAreaConsole.setText(DataValidation.invalidName);</span>
<span class="nc" id="L375">            return;</span>
        }
<span class="nc bnc" id="L377" title="All 2 branches missed.">        if(!DataValidation.isValidYearString(iY)){</span>
<span class="nc" id="L378">            textAreaConsole.setText(DataValidation.invalidYearString);</span>
<span class="nc" id="L379">            return;</span>
        }
<span class="nc" id="L381">        int iYOB = Integer.parseInt(iY);</span>
<span class="nc bnc" id="L382" title="All 2 branches missed.">        if(!DataValidation.checkYearInRange(iYOB)){</span>
<span class="nc" id="L383">            textAreaConsole.setText(DataValidation.yearNotInRange);</span>
<span class="nc" id="L384">            return;</span>
        }
<span class="nc" id="L386">        oReport = PairNamePrediction.predictName(iName, iGender, iYOB, iMateGender, iPreference);</span>
<span class="nc" id="L387">        textAreaConsole.setText(oReport);</span>
<span class="nc" id="L388">    }</span>


    /**
     * The controller for Task 6. &lt;br&gt;
     * Get the input from the ui elements. Call the &quot;processor&quot; to compute result.
     * And show the result on the ui.
     */
    @FXML
    void startApplication3() {
        // textAreaConsole.setText(&quot;task 6&quot;);

        // get text box input
<span class="nc" id="L401">        String user_name = app3_user_name.getText();</span>
<span class="nc" id="L402">        String user_YOB = app3_user_YOB.getText();</span>
<span class="nc" id="L403">        String soulmate_name = app3_soulmate_name.getText();</span>

        // get radio button selected
        RadioButton selected;

<span class="nc" id="L408">        selected = (RadioButton)App3yourGender.getSelectedToggle();</span>
<span class="nc" id="L409">        String user_gender = selected.getText();</span>

<span class="nc" id="L411">        selected = (RadioButton)App3soulmateGender.getSelectedToggle();</span>
<span class="nc" id="L412">        String soulmate_gender = selected.getText();</span>

<span class="nc" id="L414">        selected = (RadioButton)App3age.getSelectedToggle();</span>
<span class="nc" id="L415">        String soulmate_age = selected.getText();</span>

        // get result and output it
<span class="nc" id="L418">        String result = PredictCompatibleScore.ComputeAndGetResult(user_name, user_YOB, soulmate_name, user_gender, soulmate_gender, soulmate_age);</span>
<span class="nc" id="L419">        textAreaConsole.setText(result);</span>
<span class="nc" id="L420">    }</span>


}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>